<div class="fade-in">
  <!-- Page Header -->
  <div class="professional-card">
    <div class="card-header-custom">
      <h2 class="display-5 mb-3">Create New Task</h2>
      <p class="lead mb-0">Transform your ideas into actionable tasks and boost your productivity</p>
    </div>
  </div>

  <!-- Add Task Form -->
  <div class="row justify-content-center">
    <div class="col-xl-8 col-lg-10">
      <div class="professional-card">
        <div class="card-body p-5">
          <div class="text-center mb-5">
            <h4 class="text-primary-blue fw-semibold">What would you like to accomplish?</h4>
            <p class="text-muted">Create a clear, actionable task to add to your productivity dashboard</p>
          </div>
          
          <form (ngSubmit)="addTask()" #taskForm="ngForm" class="needs-validation" novalidate>
            <div class="mb-4">
              <label for="taskTitle" class="form-label">
                <i class="bi bi-pencil text-primary-blue"></i>
                Task Description
              </label>
              <input 
                id="taskTitle"
                [(ngModel)]="taskTitle" 
                name="taskTitle"
                class="form-control form-control-lg"
                placeholder="e.g., Buy groceries, Finish project proposal, Call dentist..."
                required
                maxlength="200"
                #titleInput="ngModel" 
                [class.is-invalid]="titleInput.invalid && titleInput.touched"
                [class.is-valid]="titleInput.valid && titleInput.touched" />
              
              <!-- Character counter -->
              <div class="d-flex justify-content-between mt-2">
                <div *ngIf="titleInput.invalid && titleInput.touched" class="text-danger">
                  <i class="bi bi-exclamation-triangle"></i>
                  <small>Please enter a task description to continue</small>
                </div>
                <div *ngIf="titleInput.valid && titleInput.touched" class="text-success">
                  <i class="bi bi-check-circle"></i>
                  <small>Looking good!</small>
                </div>
                <small class="text-muted ms-auto">
                  {{ taskTitle.length }}/200 characters
                </small>
              </div>
            </div>

            <!-- Priority Selection (Optional Enhancement) -->
            <div class="mb-4">
              <label class="form-label">
                <i class="bi bi-flag text-primary-blue"></i>
                Priority Level (Optional)
              </label>
              <div class="btn-group w-100" role="group">
                <input type="radio" class="btn-check" name="priority" id="low" [(ngModel)]="priority" value="low">
                <label class="btn btn-outline-success" for="low">
                  <i class="bi bi-flag"></i> Low
                </label>

                <input type="radio" class="btn-check" name="priority" id="medium" [(ngModel)]="priority" value="medium" checked>
                <label class="btn btn-outline-warning" for="medium">
                  <i class="bi bi-flag-fill"></i> Medium
                </label>

                <input type="radio" class="btn-check" name="priority" id="high" [(ngModel)]="priority" value="high">
                <label class="btn btn-outline-danger" for="high">
                  <i class="bi bi-exclamation-triangle"></i> High
                </label>
              </div>
            </div>
            
            <div class="d-grid gap-3 mb-4">
              <button 
                type="submit"
                class="btn btn-primary-blue btn-professional btn-lg"
                [disabled]="taskForm.invalid || !taskTitle.trim() || isSubmitting">
                <span *ngIf="!isSubmitting">
                  <i class="bi bi-check-lg"></i>
                  Create Task
                </span>
                <span *ngIf="isSubmitting">
                  <span class="spinner-border spinner-border-sm me-2"></span>
                  Creating...
                </span>
              </button>
              <a routerLink="/todos" class="btn btn-outline-custom btn-professional btn-lg">
                <i class="bi bi-arrow-left"></i>
                Back to Tasks
              </a>
            </div>
          </form>
          
          <!-- Success message -->
          <div *ngIf="showSuccessMessage" class="alert alert-success text-center">
            <i class="bi bi-check-circle me-2"></i>
            <strong>Success!</strong> Your task has been created successfully! Redirecting to your task list...
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Pro Tips Section -->
  <div class="row justify-content-center">
    <div class="col-xl-8 col-lg-10">
      <div class="professional-card">
        <div class="card-body p-4">
          <h5 class="text-primary-blue mb-4 fw-semibold">
            <i class="bi bi-lightbulb me-2"></i>
            Pro Tips for Effective Task Management
          </h5>
          <div class="row g-4">
            <div class="col-md-4">
              <div class="text-center">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-3"
                     style="width: 50px; height: 50px; background: var(--warning-orange-light);">
                  <i class="bi bi-clock text-warning"></i>
                </div>
                <h6 class="fw-semibold mb-2">Be Specific</h6>
                <small class="text-muted">Include clear action words and deadlines when possible</small>
              </div>
            </div>
            <div class="col-md-4">
              <div class="text-center">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-3"
                     style="width: 50px; height: 50px; background: var(--primary-blue-light);">
                  <i class="bi bi-list-ul text-primary-blue"></i>
                </div>
                <h6 class="fw-semibold mb-2">Break It Down</h6>
                <small class="text-muted">Large tasks work better when divided into smaller steps</small>
              </div>
            </div>
            <div class="col-md-4">
              <div class="text-center">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-3"
                     style="width: 50px; height: 50px; background: var(--accent-purple-light);">
                  <i class="bi bi-star text-purple"></i>
                </div>
                <h6 class="fw-semibold mb-2">Set Priorities</h6>
                <small class="text-muted">Focus on what matters most and creates the biggest impact</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>